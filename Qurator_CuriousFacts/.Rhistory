### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
##
golem::fill_desc(
pkg_name = "CuriousFacts", # The Name of the package containing the App
pkg_title = "Wikidata - Curious Facts", # The Title of the package containing the App
pkg_description = "The dashboards reports on anomalies in the Wikidata ontology.",
author_first_name = "Goran", # Your First Name
author_last_name = "Milovanović", # Your Last Name
author_email = "goran.milovanovic_ext@wikimedia.de", # Your Email
repo_url = NULL # The URL of the GitHub Repo (optional)
)
## Set {golem} options ----
golem::set_golem_options()
## Create Common Files ----
## See ?usethis for more information
usethis::use_gpl_license(version = 2,
include_future = TRUE)
usethis::use_readme_rmd(open = FALSE)
usethis::use_code_of_conduct()
## Init Testing Infrastructure ----
## Create a template for tests
golem::use_recommended_tests()
## Use Recommended Packages ----
golem::use_recommended_deps()
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Engineering
## Dependencies ----
## Add one line by package you want to add as dependency
usethis::use_package( "thinkr" )
## Run checks ----
## Check the package before sending to prod
devtools::check()
# Set options here
options(golem.app.prod = FALSE)
# Detach all loaded packages and clean your environment
golem::detach_all_attached()
# Document and reload your package
golem::document_and_reload()
# Run the application
run_app()
fact
# - format output
fact <- str_locate_all(fact, "Q[[:digit:]]+")
library(stringr)
# - format output
fact <- str_locate_all(fact, "Q[[:digit:]]+")
# - format output
fact <- stringr::str_locate_all(fact, "Q[[:digit:]]+")
fact
rf
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
fact
# - format output
fact <- stringr::str_locate_all(fact, "Q[[:digit:]]+")
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_locate_all(fact, "Q[[:digit:]]+")
# - functions
fun_insert <- function(x, pos, insert) {
gsub(paste0("^(.{", pos, "})(.*)$"),
paste0("\\1", insert, "\\2"),
x)
}
factFindQ
factFindQ[[1]]$start
# - format output
factFindQ <- unlist(stringr::str_locate_all(fact, "Q[[:digit:]]+"))
factFindQ
# - format output
factFindQ <- as.data.frame(stringr::str_locate_all(fact, "Q[[:digit:]]+")[[1]])
factFindQ
factFindQ$start[1]
fact
my_string_new2 <- fun_insert(x = fact,    # Apply own function
pos = factFindQ$start[1],
insert = "_YYY_")
my_string_new2                                 # Print new string
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- as.data.frame(stringr::str_locate_all(fact, "Q[[:digit:]]+")[[1]])
my_string_new2 <- fun_insert(x = fact,    # Apply own function
pos = factFindQ$start[1] - 1 ,
insert = "https://www.wikidata.org/wiki/")
my_string_new2                                 # Print new string
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- as.data.frame(stringr::str_locate_all(fact, "Q[[:digit:]]+")[[1]])
fact
s <- lapply(factFindQ$start, function(y) {
fun_insert(x = fact,
pos = y - 1 ,
insert = "https://www.wikidata.org/wiki/")
})
fact
factFindQ
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")
factFindQ
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
factFindQ
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
factFindQ
s <- lapply(factFindQ, function(x) {
gsub(paste0('(', x, ')'),
"https://www.wikidata.org/wiki/",
fact)
})
fact
factFindQ
fact
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
s <- lapply(factFindQ, function(x) {
gsub(paste0('(', x, ')'),
"https://www.wikidata.org/wiki/",
fact)
})
s
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
gsub(paste0('(', factFindQ[i], ')'),
"https://www.wikidata.org/wiki/",
fact)
}
fact
factFindQ[i]
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
"https://www.wikidata.org/wiki/",
fact)
}
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
"https://www.wikidata.org/wiki/\\1",
fact)
}
fact\
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
"https://www.wikidata.org/wiki/\\1",
fact)
}
factFindP <- stringr::str_extract_all(fact, "P[[:digit:]]+")[[1]]
for (i in 1:length(factFindP)) {
fact <- gsub(paste0('(', factFindP[i], ')'),
"https://www.wikidata.org/wiki/Property:\\1",
fact)
}
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
paste0('<a href="https://www.wikidata.org/wiki/\\1" target="_blank>"',
factFindQ[i],
"</a>"),
fact)
}
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
paste0('<a href="https://www.wikidata.org/wiki/\\1" target="_blank">',
factFindQ[i],
"</a>"),
fact)
}
factFindP <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindP)) {
fact <- gsub(paste0('(', factFindP[i], ')'),
paste0('<a href="https://www.wikidata.org/wiki/Property:\\1" target="_blank">',
factFindP[i],
"</a>"),
fact)
}
fact
fact <- dS$explanation[rf]
fact <- gsub('""', '"', fact)
establishedOn <- dS$establishedOn[rf]
# - format output
factFindQ <- stringr::str_extract_all(fact, "Q[[:digit:]]+")[[1]]
for (i in 1:length(factFindQ)) {
fact <- gsub(paste0('(', factFindQ[i], ')'),
paste0('<a href="https://www.wikidata.org/wiki/\\1" target="_blank">',
factFindQ[i],
"</a>"),
fact)
}
fact
factFindP <- stringr::str_extract_all(fact, "P[[:digit:]]+")[[1]]
for (i in 1:length(factFindP)) {
fact <- gsub(paste0('(', factFindP[i], ')'),
paste0('<a href="https://www.wikidata.org/wiki/Property:\\1" target="_blank">',
factFindP[i],
"</a>"),
fact)
}
fact
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Set options here
options(golem.app.prod = FALSE)
# Detach all loaded packages and clean your environment
golem::detach_all_attached()
# rm(list=ls(all.names = TRUE))
# Document and reload your package
golem::document_and_reload()
# Run the application
run_app()
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Set options here
options(golem.app.prod = FALSE)
# Detach all loaded packages and clean your environment
golem::detach_all_attached()
# rm(list=ls(all.names = TRUE))
# Document and reload your package
golem::document_and_reload()
# Run the application
run_app()
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Set options here
options(golem.app.prod = FALSE)
# Detach all loaded packages and clean your environment
golem::detach_all_attached()
# rm(list=ls(all.names = TRUE))
# Document and reload your package
golem::document_and_reload()
# Run the application
run_app()
infoSet
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
##
golem::fill_desc(
pkg_name = "CuriousFacts", # The Name of the package containing the App
pkg_title = "Wikidata - Curious Facts", # The Title of the package containing the App
pkg_description = "The dashboards reports on anomalies in the Wikidata ontology.",
author_first_name = "Goran", # Your First Name
author_last_name = "Milovanović", # Your Last Name
author_email = "goran.milovanovic_ext@wikimedia.de", # Your Email
repo_url = NULL # The URL of the GitHub Repo (optional)
)
## Set {golem} options ----
golem::set_golem_options()
## Create Common Files ----
## See ?usethis for more information
usethis::use_gpl_license(version = 2,
include_future = TRUE)
usethis::use_readme_rmd(open = FALSE)
usethis::use_code_of_conduct()
## Init Testing Infrastructure ----
## Create a template for tests
golem::use_recommended_tests()
## Use Recommended Packages ----
golem::use_recommended_deps()
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Engineering
## Dependencies ----
## Add one line by package you want to add as dependency
usethis::use_package( "thinkr" )
### ---------------------------------------------------------------------------
### --- Qurator: Curious Facts
### --- Version 1.0.0
### --- 2021.
### --- Author: Goran S. Milovanovic, Data Scientist, WMDE
### --- Developed under the contract between Goran Milovanovic PR Data Kolektiv
### --- and Wikimedia Deutschland (WMDE).
### --- Contact: goran.milovanovic_ext@wikimedia.de
### --- Contact: goran.milovanovic@datakolektiv.com
### ---------------------------------------------------------------------------
### --- LICENSE:
### ---------------------------------------------------------------------------
### --- GPL v2
### --- This file is part of Wikidata Analytics (WA)
### --- https://wikidata-analytics.wmflabs.org/
### ---
### --- WA is free software: you can redistribute it and/or modify
### --- it under the terms of the GNU General Public License as published by
### --- the Free Software Foundation, either version 2 of the License, or
### --- (at your option) any later version.
### ---
### --- WA is distributed in the hope that it will be useful,
### --- but WITHOUT ANY WARRANTY; without even the implied warranty of
### --- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
### --- GNU General Public License for more details.
### ---
### --- You should have received a copy of the GNU General Public License
### --- along with WA If not, see <http://www.gnu.org/licenses/>.
### ---------------------------------------------------------------------------
# Test your app
## Run checks ----
## Check the package before sending to prod
devtools::check()
# Deploy
## ShinyProxy
golem::add_dockerfile_shinyproxy()
